<!DOCTYPE html>
<html lang='en'>
    <head>
        <meta charset='utf-8'>
        <meta name='viewport' content='width=device-width'>
        <title>gratility</title>
        <link rel='stylesheet' type='text/css' href='gratility.css'></link>
        <script type='text/javascript' src='require.js'></script>
        <script type='text/javascript' src='gratility.js'></script>
        <script type='text/javascript'>requirejs(['main'])</script>
    </head>
    <body>

        <main>
            <section id='toolbar'>
                <div id='toolbox'>
                </div>
                <div style='flex:1'></div>
                <button class='menuaction' data-menu='addtool'>+ add tool...</button>
                <button class='menuaction' data-menu='toolbox'>save/load toolbox</button>
                <button class='menuaction' data-menu='stamp'>save/load stamp</button>
                <button class='menuaction' data-menu='colors'>save/load colors</button>
            </section>
            <svg id='grid'></svg>
        </main>

        <div id='menupopups'>

            <div data-menu='addtool'>
                <p><strong>binding</strong></p>
                <div>
                    click, type, or scroll here:
                    <input class='menuinput' data-menu='binding' data-event='pointerdown=bindmouse;keydown=bindkey;wheel=bindwheel;paste=nop;contextmenu=nop'>
                </div>
                <p><strong>action</strong></p>
                <div id='actions' class='menuinput big' data-menu='actions' data-events='div.settool@click=settool'>
                    <section class='group first'>
                        <span>drawing</span>
                        <div class='settool full' data-tool='surface'>Surface <label>color: <input class='arg'></label></div>
                        <div class='settool full' data-tool='line'>Line <label>color: <input class='arg'></label></div>
                        <div class='settool full' data-tool='edge'>Edge <label>color: <input class='arg'></label></div>
                        <div class='settool full' data-tool='shape'>Shape
                            <span>shape:
                                <span class='arg menuinput multisel' data-multisel='0'><!--
                                    --><button class='left active' data-multisel='0'>circle</button><!--
                                    --><button class='mid' data-multisel='1'>square</button><!--
                                    --><button class='mid' data-multisel='2'>cross</button><!--
                                    --><button class='right' data-multisel='3'>star</button><!--
                                --></span>
                            </span>
                            <label>fill: <input class='arg'></label>
                            <label>outline: <input class='arg'></label>
                            <label>size: <input class='arg'></label>
                            <span>location:
                                <span class='arg menuinput multisel any' data-multisel=''><!--
                                    --><button class='left' data-multisel='1'>center</button><!--
                                    --><button class='mid' data-multisel='2'>edge</button><!--
                                    --><button class='right' data-multisel='4'>corner</button><!--
                                --></span>
                            </span>
                        </div>

                        <div class='settool full' data-tool='text'>Text</div>
                    </section>

                    <section class='group'>
                        <span>movement</span>
                        <div class='settool' data-tool='pan'>Pan</div>
                        <div class='settool' data-tool='zoomin'>Zoom in</div>
                        <div class='settool' data-tool='zoomout'>Zoom out</div>
                    </section>

                    <section class='group'>
                        <span>stamps</span>
                        <div class='settool' data-tool='copy'>Copy</div>
                        <div class='settool' data-tool='paste'>Paste</div>
                    </section>

                    <section class='group'>
                        <span>misc</span>
                        <div class='settool' data-tool='undo'>Undo</div>
                        <div class='settool' data-tool='redo'>Redo</div>
                    </section>
                </div>
                <button class='menuinput' data-menu='go' data-event='click=go'>add</button>
            </div>

            <div data-menu='stamp'>
                <textarea class='menuinput big' data-menu='value' data-event='keypress=key'></textarea>
                <button class='menuinput' data-menu='go' data-event='click=go'>load</button>
            </div>

        </div>

        <div id='alerts'>
        </div>

    </body>
</html>
